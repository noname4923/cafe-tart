<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.cafe.tart.api.repository.MemberMapper">

	<!-- 
		@description 	   : 대 카테고리(Level 1)만 조회
		@author 				   : NTA
	-->
	<select id="selectCategoryLevelOneInfo"  resultType="com.cafe.tart.api.domain.member.MemberVO">
		/* memberMapper.selectCategoryLevelOneInfo */
	
		WITH RECURSIVE CategoryTree AS (
		    SELECT 	category_id 	AS categoryId
		    				  , parent_id	 		AS parentId
		    				  ,	name 				AS name
		    				  , description 	AS description
		    				  ,	level					AS level
		    FROM category_mst
		    WHERE level = 1  													/* 대 카테고리만 조회 */
		)
		SELECT * 
		FROM CategoryTree
	</select>
</mapper>
